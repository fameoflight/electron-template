{
  "$schema": "./entity-schema.json",
  "name": "EmbeddingModel",
  "description": "Embedding model entity",
  "indexes": [
    "userId",
    "connectionId"
  ],
  "fields": {
    "connection": {
      "type": "relation",
      "required": true,
      "key": "connectionId",
      "description": "Connection for this LLM model",
      "relation": {
        "entity": "Connection",
        "type": "many-to-one",
        "eager": true
      }
    },
    "name": {
      "type": "string",
      "required": false,
      "description": "Optional name for the embedding model"
    },
    "dimension": {
      "type": "number",
      "required": true,
      "description": "Dimension of the embedding vectors",
      "min": 1,
      "max": 100000
    },
    "contextLength": {
      "type": "number",
      "required": true,
      "description": "Maximum context length supported by the model",
      "min": 1,
      "max": 10000000
    },
    "maxBatchSize": {
      "type": "number",
      "required": false,
      "default": 32,
      "description": "Maximum batch size supported by the model",
      "min": 1,
      "max": 10000
    },
    "modelIdentifier": {
      "type": "string",
      "required": true,
      "description": "Unique identifier for the model"
    },
    "systemPrompt": {
      "type": "text",
      "required": false,
      "description": "Default system prompt for the model"
    },
    "default": {
      "type": "boolean",
      "required": false,
      "default": false,
      "description": "Indicates if this is the default embedding model"
    }
  }
}